{% extends 'admin/base_admin.html' %}
{% load static %}

{% block extra_css %}
<link rel="stylesheet" href="{% static 'css/admin/sales.css' %}">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/all.min.css">
{% endblock %}

{% block title %}‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£‡∏Å‡∏≤‡∏£‡∏Ç‡∏≤‡∏¢{% endblock %}

{% block content %}
<body class="body-wrapper">
    <div class="dashboard-container">
        <h1 class="dashboard-title">‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£<span style="color: orange;">‡∏Ñ‡∏≠‡∏£‡πå‡∏™</span> <span style="color: #0080ff;">‡πÄ‡∏£‡∏µ‡∏¢‡∏ô</span></h1>

        <!-- ‚úÖ ‡∏Å‡∏•‡πà‡∏≠‡∏á‡πÅ‡∏™‡∏î‡∏á‡∏à‡∏≥‡∏ô‡∏ß‡∏ô‡∏Ñ‡∏≠‡∏£‡πå‡∏™ -->
        <div class="sales-summary">
            <a href="{% url 'sales' %}?type=booking" class="summary-box booking-box {% if active_tab == 'booking' %}active{% endif %}">
                <div class="icon"><i class="fas fa-chalkboard-teacher"></i></div>
                <h2>{{ booked_courses.count }}</h2>
                <p>‡∏Ñ‡∏≠‡∏£‡πå‡∏™‡πÄ‡∏£‡∏µ‡∏¢‡∏ô‡∏ó‡∏µ‡πà‡∏°‡∏µ‡∏Å‡∏≤‡∏£‡∏à‡∏≠‡∏á</p>
            </a>
            <a href="{% url 'sales' %}?type=video" class="summary-box video-box {% if active_tab == 'video' %}active{% endif %}">
                <div class="icon"><i class="fas fa-video"></i></div>
                <h2>{{ purchased_courses.count }}</h2>
                <p>‡∏Ñ‡∏≠‡∏£‡πå‡∏™‡∏ß‡∏¥‡∏î‡∏µ‡πÇ‡∏≠‡∏ó‡∏µ‡πà‡∏°‡∏µ‡∏Å‡∏≤‡∏£‡∏ã‡∏∑‡πâ‡∏≠</p>
            </a>
        </div>

        {% if active_tab == 'booking' %}
        <h2>‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£‡∏Ñ‡∏≠‡∏£‡πå‡∏™‡πÄ‡∏£‡∏µ‡∏¢‡∏ô‡∏ó‡∏µ‡πà‡∏°‡∏µ‡∏Å‡∏≤‡∏£‡∏à‡∏≠‡∏á</h2>
        <table class="order-table">
            <thead>
                <tr>
                    <th>‡∏£‡∏π‡∏õ‡∏Ñ‡∏≠‡∏£‡πå‡∏™</th>
                    <th>‡∏ä‡∏∑‡πà‡∏≠‡∏Ñ‡∏≠‡∏£‡πå‡∏™</th>
                    <th>‡∏à‡∏≥‡∏ô‡∏ß‡∏ô‡∏Å‡∏≤‡∏£‡∏à‡∏≠‡∏á</th>
                    <th>‡∏î‡∏π‡∏£‡∏≤‡∏¢‡∏•‡∏∞‡πÄ‡∏≠‡∏µ‡∏¢‡∏î</th>
                </tr>
            </thead>
            <tbody>
                {% for course in booked_courses %}
                <tr>



                    
                    <td><img src="{{ course.image.url }}" alt="{{ course.name }}" class="course-image"></td>
                    <td><a href="{% url 'booking_detail' course.id %}" class="course-link">{{ course.title }}</a></td>

                    <td>{{ course.booking_count }}</td>
                    <td>
                        <a href="{% url 'booking_detail' course.id %}" class="btn-view">
                            <i class="fas fa-eye"></i> ‡∏î‡∏π
                        </a>
                    </td>
                </tr>
                {% empty %}
                <tr>
                    <td colspan="4" class="text-center">‡πÑ‡∏°‡πà‡∏°‡∏µ‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•</td>
                </tr>
                {% endfor %}
            </tbody>
        </table>
        {% endif %}

        {% if active_tab == 'video' %}
        <h2>üé• ‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£‡∏Ñ‡∏≠‡∏£‡πå‡∏™‡∏ß‡∏¥‡∏î‡∏µ‡πÇ‡∏≠‡∏ó‡∏µ‡πà‡∏°‡∏µ‡∏Å‡∏≤‡∏£‡∏ã‡∏∑‡πâ‡∏≠</h2>
        <table class="order-table">
            <thead>
                <tr>
                    <th>‡∏ä‡∏∑‡πà‡∏≠‡∏Ñ‡∏≠‡∏£‡πå‡∏™</th>
                    <th>‡∏à‡∏≥‡∏ô‡∏ß‡∏ô‡∏Å‡∏≤‡∏£‡∏ã‡∏∑‡πâ‡∏≠</th>
                    <th>‡∏î‡∏π‡∏£‡∏≤‡∏¢‡∏•‡∏∞‡πÄ‡∏≠‡∏µ‡∏¢‡∏î</th>
                </tr>
            </thead>
            <tbody>
                {% for order in purchased_courses %}
                <tr>
                    <td>
                        <a href="{% url 'video_order_detail' order.course_name %}" class="course-link">{{ order.course_name }}</a>
                    </td>
                    <td>{{ order.purchase_count }}</td>
                    <td><a href="{% url 'video_order_detail' order.course_name %}" class="btn-view"><i class="fas fa-eye"></i> ‡∏î‡∏π</a></td>
                </tr>
                {% empty %}
                <tr>
                    <td colspan="3" class="text-center">‡πÑ‡∏°‡πà‡∏°‡∏µ‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•</td>
                </tr>
                {% endfor %}
            </tbody>
        </table>
        {% endif %}
    </div>
</body>
{% endblock %}
